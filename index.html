<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Summary</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1 class="mb-4 text-center">Product Sales Summary</h1>
        <div class="row mb-4">
            <div class="col-md-6">
                <div id="total-sales" class="alert alert-success fs-3">Loading total sales...</div>
            </div>
        </div>
        <h2 class="mb-3">Product Sales Breakdown</h2>
        <table id="product-sales" class="table table-striped table-hover">
            <thead>
                <tr>
                    <th scope="col">Product</th>
                    <th scope="col">Region</th>
                    <th scope="col">Sales</th>
                </tr>
            </thead>
            <tbody>
                <!-- Product sales data will be inserted here -->
            </tbody>
        </table>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const csvData = `product,region,sales\nToothpast,North,200\nSampoo,South,300\nMilk,East,150`;

            const lines = csvData.split('\n');
            let totalSales = 0;
            const productSalesData = [];

            for (let i = 1; i < lines.length; i++) {
                const cells = lines[i].split(',');
                if (cells.length === 3) {
                    const product = cells[0];
                    const region = cells[1];
                    const sales = parseFloat(cells[2]);

                    if (!isNaN(sales)) {
                        totalSales += sales;
                        productSalesData.push({ product, region, sales });
                    }
                }
            }

            // Update total sales display
            document.querySelector('#total-sales').textContent = `Total Sales: $${totalSales.toFixed(2)}`;

            // Populate product sales table
            const tableBody = document.querySelector('#product-sales tbody');
            productSalesData.forEach(item => {
                const row = tableBody.insertRow();
                row.innerHTML = `
                    <td>${item.product}</td>
                    <td>${item.region}</td>
                    <td>$${item.sales.toFixed(2)}</td>
                `;
            });
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>